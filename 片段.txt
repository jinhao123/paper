1.2  课题研究目的与意义

业代行踪要固定
工作量要固定
拜访目标要固定

用户权限管理是系统的基础模块，在本系统中采用基于角色的访问控制方法(Role-Based Access Control,RBAC),即在系统中通过对用户进行角色认证来确认其访问权限。用户使用系统的过程就是对资源进行访问的过程，在系统中用户的数量和资源的数量都是比较多的，如果直接定义每个用户可以访问哪些资源，那得出来的组合关系会很多，不但配置使用不便而且运行使用效率会较低。所以在用户和资源中间增加“角色”这个概念， 角色可以理解为一组的权限的集合，然后用户和角色之间是多对多的关系，一个用户可以有多个角色，一个角色可以被分配给多个用户。这样，通过角色就可以有效的控制用户对资源的访问。角色和用户、权限之间的关系可以用下图简单描述：

角色的权限可以分为两类，数据权限和操作权限，直白的说就是能看到什么和能做什么。其中操作权限，指的是用户登录系统后能操作哪些按钮，这些按钮又分布在不同的菜单上，从而也能控制用户能看到哪些菜单。比如考勤员需要能看到考勤管理的菜单、财务人员能看到“回款记录”菜单；出纳在“回款记录”只能进行“录入回款”的操作，而财务主管则可以进行“审核回款”操作。
而数据权限则较为复杂，在讨论数据权限之前，先描述一个常见的场景需求，例如“回款记录”这个菜单，财务部的所有人员都可以看到，销售部各个销售区的主管也可以看到。但是在这个菜单中的数据层面，华东区的销售主管只可以看到华东区业务员的回款记录，负责华东区的财务人员也可以看到华东区业务员的回款记录，财务部的总监则可以看到全公司所有业务员的回款记录。 通过对实际业务中一些各种数据权限的需求分析之后，可以认为数据权限一般是通过公司的组织机构和人员上下级关系来定义控制规则，所以在设计数据权限之前，首先要设计公司的组织机构。
一般公司的组织机构都可以通过一个树形结构表示，常见的如下图所示：
把组织机构树的每个节点称作部门，员工从属于其中一个部门，每个部门有一个或者多个领导。另外每个员工都有一个汇报工作的直接上级，所以在员工层面又有另外一棵树。部门树和员工上下级树这两棵树，在实际的业务场景中有交叉的情况，比如销售一区和和销售二区在部门树中是两个同级的相邻节点，但是二区的部门领导B需要向一区的部门领导A汇报工作。但多数情况下是相互平行的情况，即员工的下级一般在本部门或本部门的某个下级部门中。
由于树形结构的存储方式，在查询的时候经常需要递归处理，效率较低，所以对树形结构，系统会冗余一份展开后的关系表。如，ABCD四个节点构成如下树，自身数据的存储为，另外每次数据变动之后会冗余一份这样的存储结构，TODO。则在进行查询的时候，可将递归查询用如下的连接查询实现，不然效率较高而且比较直观。
角色分配本身也是系统中的一个功能，为了权限传递也可控，所以对于 有“角色管理”这个权限的角色，需要设置允许其传递的角色。
------------
1、客户基本信息管理
	1、客户的基本信息就是客户一些常用的基本属性，如名称、编码、类型、区域、地址、电话等。用户可以对这些信息维护，其中一些属性的内容可以独立维护，比如用户可以自主增加或修改客户类型，在维护客户的类型属性的时候直接从现有的客户类型中选择。这样一方面是提高操作的便捷性，更重要的是对数据进行规范化和结构化，便于相关的统计分析。
	2、客户的分配。大部门的企业对于客户会由对应的员工负责，这些员工称为客户经理。员工和客户是多对多的关系，一个员工可以负责多个客户，一个客户也可以由多个员工负责。另外，对于一些客户或者员工比较多的企业，对具体的客户分配比较烦琐，会按照客户的区域分配，将某个区域分配给某个员工负责。还有的企业不是把客户分到具体的员工，而是分配的部门，即指定某个部门中的所有员工都可以负责这个客户。
	3、基本信息的离线缓存。快消行业业务员大部分的时间在室外工作，携带电脑不是很方便，所以更多会使用手机端的功能。而客户基本信息是很常用的数据，所以将数据缓存到手机本地，使用的时候避免网络请求，能带来较好的用户体验和提高程序的性能。

2、客户信息配置
	1、自定义扩展字段。不同的行业、不同的公司对自己的客户关注的信息各不相同，比如有的企业要关注客户的“门店面积”、“货架数量”，有的要关注客户“所在商圈的级别”。在超出了系统内置的一些基本信息之外，需要提供一种用户可自主配置的机制来完成这些个性化的需求。
	2、字段安全性。对于一些行业来说，客户信息中有些字段是敏感信息。比如有的要求客户的电话号码，只有这个客户的客户经理可见，其他人只能看到客户的其他信息。
	3、修改日志。用户需要查看客户的一些字段变动的历史记录，但是不同企业关注的字段不全一样。需要允许用户自定义哪些字段的变更需要记录日志。

3、客户业务信息管理
	1、企业的所有业务都是围绕着客户进行的，用户希望在系统中选择一个客户之后，可以看到对这个客户的联系记录、拜访记录、销售机会、订单、促销活动等各种业务数据。
	2、联系人信息管理。

拜访管理：拜访的过程管理，按拜访流程进行每个客户的拜访操作。根据快销行业拜访步骤进行拜访，企业可自定义拜访流程

1、拜访步骤管理
	拜访步骤指的是对某个客户拜访时候需要按照规定的步骤执行一系列的操作填报相关的数据。企业对业务员拜访客户时要做的工作都有一套规定的流程，比如到客户店面时候需要对店面门头拍照、促销海报拍照、检测柜面陈列、商品库存量上报等。
	对同一个客户，不同的员工拜访时所需要做的工作不一定一样，即要定义不同的拜访步骤。比如销售人员需要填销售单、收款单等，而市场督查员需要检测商品铺货情况、促销活动的执行情况。
	同一个业务员，对于不同的客户所需要做的工作也不一定一样。比如对客户类型为“便利店”的需要填报奖券兑换，而对客户类型为“大型超市”的需要填写堆头摆放、促销海报等。也有可能按照不同的销售区域做不同的拜访步骤，或者按照企业对客户自定义的一些属性来过滤区分。
拜访计划管理
	管理规范的企业一般会对客户做有计划的拜访，即对某个业务员需要哪天需要拜访哪个客户都是提前制定好计划。业务员每天根据计划去执行拜访任务，每天系统会提醒业务员需要去拜访哪些客户，主管对照计划和实际的拜访情况来做分析管理工作，统计客户覆盖率、拜访计划的完成率等。

拜访线路管理
	企业对客户按相关属性依照地理位置进行分组，一个分组做为一条拜访线路。可以对不同的分组设定不同的拜访周期，比如重点客户每周拜访一次，普通客户每个月拜访一次等。可以为每个拜访人员设定路线，拜访人员每天按拜访线路进行拜访。
